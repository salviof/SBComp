<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pr="http://xmlns.jcp.org/jsf/composite/SBComp/prime"
      xmlns:SBComp="http://xmlns.jcp.org/jsf/composite/SBComp">

    <!-- INTERFACE -->
    <cc:interface>


        <cc:attribute name="registro" required="true" type="com.super_bits.modulosSB.SBCore.InfoCampos.campo.ItfCampoInstanciado" />
        <cc:attribute name="pid" default="componenteInputDado" />
        <cc:attribute name="tipoExibicaoCampo" default="#{tipos.tipoVisualCampo.padrao}" />
        <cc:attribute name="desabilitarEdicao" type="java.lang.Boolean" default="#{false}" />
        <cc:attribute name="mostrarErro" type="java.lang.Boolean" default="#{false}" />
        <cc:attribute name="idAtualizarAoSair"  default="#{null}" />
        <cc:attribute name="campoLocalizacaoCEP"  />
        <cc:attribute name="metodoExecutarAoAlterarValor" method-signature="void listener()" required="false" />


    </cc:interface>
    <!-- IMPLEMENTATION -->
    <cc:implementation>


        <c:set var="idcompInput" value="#{cc.attrs.pid}"/>

        <c:choose >
            <c:when test="#{cc.getValueExpression('metodoExecutarAoAlterarValor') ne null}">
                <c:set var="possuiMetodo" value="#{true}"/>
            </c:when>
            <c:otherwise>
                <c:set var="possuiMetodo" value="#{false}"/>
            </c:otherwise>
        </c:choose>

        <c:choose >
            <c:when test="#{cc.getValueExpression('idAtualizarAoSair') ne null}">
                <c:set var="possuiIDAtualizacao" value="#{true}"/>
            </c:when>
            <c:otherwise>
                <c:set var="possuiIDAtualizacao" value="#{false}"/>
            </c:otherwise>
        </c:choose>





        <c:choose>





            <c:when test="#{cc.attrs.registro.tipoCampo==tipos.tipoCampo.EMAIL}">
                <p:inputText  class="campoResponsivo  TexAlCenter"  autocomplete="false" id="#{idcompInput}" validatorMessage="E-mail Inválido" value="#{cc.attrs.registro.valor}"  required="#{cc.attrs.registro.obrigatorio}"  disabled="#{cc.attrs.desabilitarEdicao}" >

                    <c:if test="#{cc.attrs.registro.temValidacaoRegex}">
                        <f:validateRegex pattern="#{cc.attrs.registro.validacaoRegex}"/>
                    </c:if>
                    <c:if test="#{cc.attrs.registro.temValidacaoMaximo}">
                        <f:validateLength maximum="#{cc.attrs.registro}"  />
                    </c:if>
                    <c:if test="#{cc.attrs.registro.temValidacaoMinimo}">
                        <f:validateLength minimum="#{cc.attrs.registro.valorMinimo}" />
                    </c:if>


                </p:inputText>
            </c:when>

            <c:when test="#{ tipos.tipoCampo.LCCEP.equals(cc.attrs.registro.tipoCampoSTR)}">

                <p:inputMask class="campoResponsivo TexAlCenter"
                             id="#{idcompInput}"
                             value="#{cc.attrs.registro.valor}"
                             mask="#{cc.attrs.registro.mascaraJqueryMode}"
                             required="#{cc.attrs.registro.obrigatorio}"
                             disabled="#{cc.attrs.desabilitarEdicao}"
                             >

                    <c:if test="#{cc.attrs.registro.temValidacaoRegex}">
                        <f:validateRegex pattern="#{cc.attrs.registro.validacaoRegex}"/>
                    </c:if>
                    <c:if test="#{cc.attrs.registro.temValidacaoMaximo}">
                        <f:validateLength maximum="#{cc.attrs.registro}"  />
                    </c:if>
                    <c:if test="#{cc.attrs.registro.temValidacaoMinimo}">
                        <f:validateLength minimum="#{cc.attrs.registro.valorMinimo}" />
                    </c:if>
                    <c:if test="#{cc.attrs.campoLocalizacaoCEP!=null}" >
                        <p:ajax event="valueChange"
                                partialSubmit="true"
                                process="@this"
                                listener="#{pgUtil.preencherEndereco(cc.attrs.registro.valor, cc.attrs.campoLocalizacaoCEP)}"
                                update="#{pgUtil.makeCaminhoCompletoID('endereco')}" />


                    </c:if>

                </p:inputMask>
                <p:ajaxStatus style="width:32px;height:32px;position:fixed;right:7px;bottom:7px">
                    <f:facet name="start">
                        <p:graphicImage name="images/preloader.gif" library="adamantium-layout"/>
                    </f:facet>

                    <f:facet name="complete">

                    </f:facet>
                </p:ajaxStatus>

            </c:when>



            <c:when test="#{cc.attrs.registro.tipoCampo == tipos.tipoCampo.LOOKUP}"  >



                <SBComp:seletorItem label="#{cc.attrs.registro.label}"
                                    id="#{idcompInput}"
                                    TIPO_VIEW_COMBO="true"
                                    registro="#{cc.attrs.registro.valor}"
                                    lista="#{cc.attrs.registro.listaDeOpcoes}"
                                    desabilitarEdicao="#{cc.attrs.desabilitarEdicao}"
                                    obrigatorio="#{cc.attrs.registro.obrigatorio}"
                                    mostrarMensagemValidacao="#{true}" />


            </c:when>


            <c:when test="#{cc.attrs.registro.tipoCampo==tipos.tipoCampo.verdadeiroFalso}">
                verdadeiro ou falso
                <p:selectBooleanCheckbox  id="#{idcompInput}" value="#{cc.attrs.registro.valor}" />
            </c:when>




            <c:when test="#{cc.attrs.registro.tipoCampo == tipos.tipoCampo.LOOKUPMULTIPLO}"  >



            </c:when>

            <c:when test="#{cc.attrs.registro.tipoCampo==tipos.tipoCampo.descritivo}">

                <p:inputTextarea   styleClass="campoResponsivo"  rows="2" id="#{idcompInput}" value="#{cc.attrs.registro.valor}"  required="#{cc.attrs.registro.obrigatorio}" disabled="#{cc.attrs.desabilitarEdicao}" />

            </c:when>

            <c:when test="#{cc.attrs.registro.tipoCampo == tipos.tipoCampo.senha}"  >
                <p:password  class="campoResponsivo  TexAlCenter"  id="#{idcompInput}" value="#{cc.attrs.registro.valor}"
                             autocomplete="false"
                             redisplay="true"
                             feedback="true"
                             disabled="#{cc.attrs.desabilitarEdicao}"
                             validatorMessage="A senha precisa conter 6 caractéres"
                             promptLabel="Digite uma senha segura" weakLabel="Você pode melhorar esta senha"
                             required="#{cc.attrs.registro.obrigatorio}"
                             goodLabel="Esta senha é uma boa senha, você pode melhora-la adcionando numeros, caracteres especiais e letras" strongLabel="Parabéns, esta senha é muito difícil de ser quebrada" >
                    <f:validateLength minimum="6" />
                </p:password>
            </c:when>

            <c:otherwise>
                <c:if test="#{cc.attrs.registro.temMascara}">


                    <p:inputMask class="campoResponsivo  TexAlCenter"  mask="#{cc.attrs.registro.mascaraJqueryMode}" id="#{idcompInput}"  value="#{cc.attrs.registro.valor}"  required="#{cc.attrs.registro.obrigatorio}"  disabled="#{cc.attrs.desabilitarEdicao}"  >
                        <pr:propriedadesInputs registro="#{cc.attrs.registro}" />
                    </p:inputMask>

                </c:if>

                <c:if test="#{!cc.attrs.registro.temMascara}">
                    <p:inputText  class="campoResponsivo  TexAlCenter" id="#{idcompInput}"  value="#{cc.attrs.registro.valor}"  required="#{cc.attrs.registro.obrigatorio}"  disabled="#{cc.attrs.desabilitarEdicao}" >

                        <pr:propriedadesInputs registro="#{cc.attrs.registro}" />

                    </p:inputText>
                </c:if>

            </c:otherwise>

        </c:choose>





















    </cc:implementation>
</html>










