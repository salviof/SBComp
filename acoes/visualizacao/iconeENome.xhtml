<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- INTERFACE -->
    <cc:interface shortDescription="Exibe um botão de ação do sistema no formato icone e nome">

        <cc:attribute name="acao" type="com.super_bits.Controller.Interfaces.acoes.ItfAcaoDoSistema"
                      shortDescription="A ação que será exibida " />
        <cc:attribute name="armazenamentoAcaoExecutada"
                      shortDescription="Ben para armazenar esta ação quando clicada,
                      Esta opção só é exexutada com o atributo deste botão armazenarAcaoSelecionada for true"
                      />
        <cc:attribute name="metodo" method-signature="void listener()"  />
        <cc:attribute name="update"  default="#{null}"
                      shortDescription="IDs que devem ser atualizados após clicar na alção"
                      />
        <cc:attribute name="javaScriptOncomplete"  default="#{null}"
                      shortDescription="Javascript que deve ser executado após a execucao do botão"
                      />
        <cc:attribute name="cor" default="#{null}"
                      shortDescription="Cor do botão caso ele deva ser exibido por em uma cor especifica"
                      />
        <cc:attribute name="linkQuandoMB" type="java.lang.Boolean" default="#{true}" />


        <cc:attribute name="armazenarAcaoSelecionada"
                      required="#{true}"
                      shortDescription="Indica se ao clicar a ação clicada será armazenada em algum bean"
                      />


    </cc:interface>




    <!-- IMPLEMENTATION -->
    <cc:implementation>



        <c:set  var="caminhocp" value="#{pgUtil.makeCaminhoComponenteByClientID(component.clientId)}"/>





        <c:choose>



            <c:when test="#{pgUtil.isTudoVerdadeiro(cc.attrs.linkQuandoMB,cc.attrs.linkQuandoMB)}">

                <p:button value="#{acao.nomeAcao}" icon="#{acao.iconeAcao}" href="#{infoWebApp.getAcaoManagedBean(acao.nomeUnico).urlDeAcesso}"/>

            </c:when>


            <c:otherwise>


                <p:commandButton onmousedown="esconderTooltips();"
                                 style="margin-top: 5px; #{estilo}"
                                 icon="#{cc.attrs.acao.iconeAcao}"
                                 action="#{cc.attrs.metodo}"
                                 update="#{cc.attrs.update}"
                                 value="#{cc.attrs.acao.nomeAcao}"
                                 oncomplete="#{cc.attrs.javaScriptOncomplete}"
                                 id="btAcao"
                                 >


                    <c:if test="#{cc.attrs.armazenarAcaoSelecionada}" >
                        <f:setPropertyActionListener target="#{cc.attrs.armazenarAcaoSelecionada}" value="#{cc.attrs.acao}"  />
                    </c:if>

                    <p:tooltip for="btAcao" value=" #{cc.attrs.acao.descricao}"/>



                </p:commandButton>





            </c:otherwise>
        </c:choose>



    </cc:implementation>
</html>










